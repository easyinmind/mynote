# 输入url到看到页面

## 简述
1. 用户输入url
2. 浏览器进程的UI线程整合url，转发url请求到网络进程
3. 网络进程准备发起http请求
4. 等待TCP队列
5. 创建tcp连接
6. 发送请求信息
7. 服务器返回响应信息
8. 网络进程接收到响应信息，解析响应头数据并将数据发送给浏览器进程（UI线程）
9. 浏览器进程发送 提交导航 消息 给渲染进程
10. 渲染进程接收到 提交导航 消息开始准备渲染，再和网络进程建立数据通道接收响应体，
11. 渲染进程发送 确认提交 给浏览器进程
12. 浏览器进程更新页面状态

## 大阶段简述
1. 整合阶段
   1. 浏览器进程的UI线程判断地址栏输入是搜索还是url
   2. 如果是搜索，调用默认搜索引擎拼接url
   3. 如果是url，对url进行补全
   4. 转发url到网络进程
2. 请求前置阶段
   1. 网络进程接收到url，查找是否有资源缓存。如果有就返回缓存资源给浏览器进程结束请求，没有就下一步
   2. 查找浏览器的DNS缓存，查找本地的host文件，请求DNS服务器获取IP，根据转发的url获取端口。如果是https请求还会建立TLS连接
   3. 等待TCP队列
   4. 根据IP和端口建立基于TCP连接
3. 请求阶段
   1. 发送HTTP请求
   2. 服务端根据请求返回响应信息
4. 解析阶段
   1. 网络进程接收到响应信息，解析响应头判断是否是重定向，如果是网络进程则根据响应头的Location字段跳转到新的地址重新开始导航
   2. 如果状态码是200，处理响应，判断Content-Type类型，如果是字节流类型，交给浏览器下载管理器处理
   3. 如果是html会继续导航流程，准备渲染
5. 渲染前置阶段
   1. 根据打开方式和是否是同一站点，判断创建新的渲染进程还是复用渲染进程
6. 渲染阶段
